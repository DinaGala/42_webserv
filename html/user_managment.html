<!DOCTYPE html>
<html>
	<head>
		<link rel="icon" type="image/png" href="/assets/favicon_general.png">
		<title>Cookies</title>
		<style>
			body {
				font-family: Arial, sans-serif;
				display: flex;
				flex-direction: column;
				align-items: center;
				margin: 20px;
			}
			.buttons {
				display: flex;
				flex-direction: row;
			}
			.button {
				margin-right: 10px;
				padding: 10px 15px;
				font-size: 16px;
				cursor: pointer;
				text-decoration: none;
				color: #fff;
				background-color: #bbb;
				border: none;
				border-radius: 4px;
				display: inline-block;
			}
			.button:hover {
				background-color: #ccc;
			}
			code {
				display: block;
				margin-top: 20px;
				padding: 10px;
				background-color: #f9f9f9;
			}
    </style>
	</head>
	<body>
		<h1>User Management</h1>
		<div class="buttons">
			<a href="cookies/set_username.html" class="button">Set username</a>
			<button class="button" onclick="showCookies()">Show username</button>
			<button class="button" onclick="clearOutputCookies()">Clear</button>
		</div>
		<code id="cookies"></code>

		<script th:inline="javascript">
			function showCookies() {
				const cookies = document.cookie.split(';'); // Split the cookie string into individual cookies
				const firstCookie = cookies[0].trim();
				const cookieValue = firstCookie.split('=')[1]; // Extract the value after the '=' sign
    			document.getElementById('cookies').innerHTML = `Current username: ${decodeURIComponent(cookieValue)}`;
			}

			function clearOutputCookies() {
				const cookies = document.cookie.split(';'); // Split the cookie string into individual cookies
				cookies.forEach(cookie => {
					const cookieName = cookie.split('=')[0].trim(); // Get the name of each cookie
					document.cookie = `${cookieName}=;expires=Thu, 01 Jan 1970 00:00:00 GMT;path=/`; // Set cookie expiry to a past date
				});
				document.getElementById('cookies').innerHTML = "All cookies cleared.";
			}
		</script>
	</body>
</html>


